---
description: Sync edited files with their factory templates
---

# Instructions

**YOU MUST call the `codefactory_sync` MCP tool. Do not parse files or regenerate code yourself.**

## Step 1: Identify Path

From user's request, determine:
- File path (e.g., "src/Button.ts")
- Directory path (e.g., "src/components")  
- Or current workspace if no path specified

## Step 2: Call MCP Tool

**REQUIRED:** Call `codefactory_sync` with the path:

```json
{
  "name": "codefactory_sync",
  "arguments": {
    "path": "src/Button.ts"
  }
}
```

**DO NOT:**
- Read or parse files yourself
- Extract parameters manually
- Regenerate code yourself
- Skip calling the tool

## Step 3: Return Tool Result

After the tool executes, explain to the user:
- What was extracted and changed
- What files were synced
- Any errors encountered

## Examples

### Example 1: Single File
```
User: "Sync src/Button.ts"

YOU MUST:
1. Call codefactory_sync with path="src/Button.ts"
2. Return result to user
```

### Example 2: Directory
```
User: "/codefactory.sync src/components"

YOU MUST:
1. Call codefactory_sync with path="src/components"
2. Tool will recursively sync all files
3. Return summary to user
```

### Example 3: Current File
```
User: "Sync this file"

YOU MUST:
1. Get current file path from context
2. Call codefactory_sync with that path
3. Return result to user
```

## Error Handling

If the tool returns an error, explain it to the user and suggest fixes.

Common errors:
- No metadata found → File wasn't generated by CodeFactory
- Factory not found → Factory template is missing
- Extraction failed → Code structure doesn't match template
